# ä½¿ç”¨ YOLOv8 è‡ªå¸¦æŸå¤±å‡½æ•°è®­ç»ƒæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

YOLOv8 é»˜è®¤ä½¿ç”¨ **CIoU (Complete IoU)** æŸå¤±å‡½æ•°ï¼Œè¿™æ˜¯å®˜æ–¹æ¨èçš„æŸå¤±å‡½æ•°ï¼Œç»¼åˆæ€§èƒ½æœ€å¥½ã€‚

---

## ğŸš€ è®­ç»ƒæ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨ `train_improved.py`ï¼ˆæ¨èï¼‰

`train_improved.py` **é»˜è®¤å°±æ˜¯ä½¿ç”¨ CIoU**ï¼Œæ— éœ€æŒ‡å®šå‚æ•°ï¼š

```bash
# æ–¹å¼ 1ï¼šä¸æŒ‡å®š --lossï¼ˆé»˜è®¤å°±æ˜¯ ciouï¼‰
python train_improved.py --epochs 120 --batch 8 --img_size 640 --name baseline_ciou

# æ–¹å¼ 2ï¼šæ˜ç¡®æŒ‡å®šä½¿ç”¨ ciouï¼ˆæ•ˆæœç›¸åŒï¼‰
python train_improved.py --loss ciou --epochs 120 --batch 8 --img_size 640 --name baseline_ciou
```

**ä¼˜ç‚¹**ï¼š
- âœ… ä½¿ç”¨æ”¹è¿›çš„è®­ç»ƒå‚æ•°ï¼ˆé’ˆå¯¹å°æ•°æ®é›†ä¼˜åŒ–ï¼‰
- âœ… æ”¯æŒæ›´å¤šè®­ç»ƒé€‰é¡¹
- âœ… å¯ä»¥æ–¹ä¾¿åˆ‡æ¢åˆ°å…¶ä»–æŸå¤±å‡½æ•°åšå¯¹æ¯”

---

### æ–¹æ³• 2ï¼šä½¿ç”¨åŸå§‹ `train.py`ï¼ˆå®Œå…¨åŸç”Ÿï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨**å®Œå…¨åŸç”Ÿçš„ YOLOv8 è®­ç»ƒæ–¹å¼**ï¼ˆä¸åšä»»ä½•ä¿®æ”¹ï¼‰ï¼š

```bash
# è®­ç»ƒ Baseline æ¨¡å‹
python train.py --model baseline --epochs 120 --batch 8 --img_size 640

# æˆ–è€…ç›´æ¥ä½¿ç”¨ Ultralytics å‘½ä»¤è¡Œ
yolo detect train data=data/insulator.yaml model=yolov8s.pt epochs=120 batch=8 imgsz=640
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨ä½¿ç”¨ YOLOv8 å®˜æ–¹é»˜è®¤è®¾ç½®
- âœ… ä»£ç æœ€ç®€æ´
- âœ… é€‚åˆå¿«é€ŸéªŒè¯

---

## ğŸ“Š ä¸¤ç§æ–¹æ³•å¯¹æ¯”

| ç‰¹æ€§ | `train_improved.py` | `train.py` |
|------|-------------------|-----------|
| **æŸå¤±å‡½æ•°** | CIoUï¼ˆé»˜è®¤ï¼‰ | CIoUï¼ˆé»˜è®¤ï¼‰ |
| **è®­ç»ƒå‚æ•°** | é’ˆå¯¹å°æ•°æ®é›†ä¼˜åŒ– | å®˜æ–¹é»˜è®¤å‚æ•° |
| **æ•°æ®å¢å¼º** | å¢å¼ºç‰ˆï¼ˆé€‚åˆå°æ•°æ®é›†ï¼‰ | æ ‡å‡†å¢å¼º |
| **å­¦ä¹ ç‡** | ä¼˜åŒ–åï¼ˆ0.001ï¼‰ | å®˜æ–¹é»˜è®¤ |
| **çµæ´»æ€§** | é«˜ï¼ˆå¯åˆ‡æ¢æŸå¤±å‡½æ•°ï¼‰ | ä½ï¼ˆå›ºå®šè®¾ç½®ï¼‰ |

---

## ğŸ¯ æ¨èä½¿ç”¨åœºæ™¯

### ä½¿ç”¨ `train_improved.py` å½“ï¼š
- âœ… ä½ æƒ³åšæŸå¤±å‡½æ•°å¯¹æ¯”å®éªŒï¼ˆCIoU vs EIoU vs WIoUï¼‰
- âœ… ä½ çš„æ•°æ®é›†è¾ƒå°ï¼ˆ<100 å¼ è®­ç»ƒå›¾ï¼‰
- âœ… ä½ æƒ³ä½¿ç”¨ä¼˜åŒ–åçš„è®­ç»ƒå‚æ•°
- âœ… ä½ éœ€è¦æ›´çµæ´»çš„è®­ç»ƒé€‰é¡¹

### ä½¿ç”¨ `train.py` å½“ï¼š
- âœ… ä½ æƒ³ä½¿ç”¨å®Œå…¨åŸç”Ÿçš„ YOLOv8 è®­ç»ƒ
- âœ… ä½ çš„æ•°æ®é›†è¶³å¤Ÿå¤§ï¼ˆ>1000 å¼ ï¼‰
- âœ… ä½ æƒ³å¿«é€ŸéªŒè¯æ¨¡å‹æ•ˆæœ
- âœ… ä½ ä¸éœ€è¦å¯¹æ¯”ä¸åŒæŸå¤±å‡½æ•°

---

## ğŸ’¡ å®Œæ•´è®­ç»ƒå‘½ä»¤ç¤ºä¾‹

### ä½¿ç”¨ `train_improved.py`ï¼ˆæ¨èï¼‰

```bash
# åŸºç¡€è®­ç»ƒï¼ˆä½¿ç”¨é»˜è®¤ CIoUï¼‰
python train_improved.py \
    --epochs 120 \
    --batch 8 \
    --img_size 640 \
    --model_size s \
    --name baseline_ciou

# å®Œæ•´å‚æ•°ç¤ºä¾‹
python train_improved.py \
    --epochs 120 \
    --batch 8 \
    --img_size 640 \
    --model_size s \
    --loss ciou \
    --optimizer AdamW \
    --lr0 0.001 \
    --name baseline_ciou \
    --project runs
```

### ä½¿ç”¨ `train.py`ï¼ˆåŸç”Ÿï¼‰

```bash
# åŸºç¡€è®­ç»ƒ
python train.py \
    --model baseline \
    --epochs 120 \
    --batch 8 \
    --img_size 640 \
    --model_size s

# æˆ–è€…ä½¿ç”¨ Ultralytics å‘½ä»¤è¡Œ
yolo detect train \
    data=data/insulator.yaml \
    model=yolov8s.pt \
    epochs=120 \
    batch=8 \
    imgsz=640 \
    project=runs \
    name=baseline_ciou
```

---

## ğŸ” éªŒè¯æ˜¯å¦ä½¿ç”¨ CIoU

è®­ç»ƒå¼€å§‹æ—¶ä¼šçœ‹åˆ°ï¼š

**ä½¿ç”¨ `train_improved.py` ä¸” `--loss ciou`**ï¼š
```
å¼€å§‹è®­ç»ƒï¼ˆæ”¹è¿›ç‰ˆï¼‰
============================================================
æ¨¡å‹è§„æ¨¡: yolov8s
...
ï¼ˆä¸ä¼šæ˜¾ç¤ºæŸå¤±å‡½æ•°ä¿¡æ¯ï¼Œå› ä¸ºé»˜è®¤å°±æ˜¯ CIoUï¼‰
```

**ä½¿ç”¨ `train_improved.py` ä¸” `--loss wiou`**ï¼š
```
å¼€å§‹è®­ç»ƒï¼ˆæ”¹è¿›ç‰ˆï¼‰
============================================================
âœ“ WIoU v3 æŸå¤±å‡½æ•°å·²å¯ç”¨ï¼ˆå·²æ›¿æ¢ CIoUï¼‰
...
```

---

## âœ… æ€»ç»“

**æœ€ç®€å•çš„æ–¹å¼**ï¼ˆä½¿ç”¨è‡ªå¸¦ CIoUï¼‰ï¼š
```bash
python train_improved.py --epochs 120 --batch 8 --img_size 640 --name baseline_ciou
```

**å®Œå…¨åŸç”Ÿæ–¹å¼**ï¼š
```bash
python train.py --model baseline --epochs 120 --batch 8 --img_size 640
```

**æ¨è**ï¼šä½¿ç”¨ `train_improved.py`ï¼Œå› ä¸ºå®ƒé’ˆå¯¹å°æ•°æ®é›†åšäº†ä¼˜åŒ–ï¼Œè€Œä¸”å¯ä»¥æ–¹ä¾¿åœ°åˆ‡æ¢åˆ°å…¶ä»–æŸå¤±å‡½æ•°åšå¯¹æ¯”å®éªŒã€‚
